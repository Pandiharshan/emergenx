import{a as o}from"./index-Ho7Cjgmc.js";const n="http://localhost:5000",t=o.create({baseURL:n,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));const u=async e=>{try{return(await t.post("/api/triage/",{symptoms:e})).data}catch(s){return r(s)}},p=async()=>{try{return(await t.get("/api/triage/history")).data}catch(e){return r(e)}},l=async e=>{try{return(await t.get(`/api/triage/results/${e}`)).data}catch(s){return r(s)}},r=e=>e.response?{success:!1,message:e.response.data.message||"Request failed",errors:e.response.data.errors||[]}:e.request?{success:!1,message:"Network error. Please check your connection."}:{success:!1,message:"An unexpected error occurred"},c=e=>{e?t.defaults.headers.common.Authorization=`Bearer ${e}`:delete t.defaults.headers.common.Authorization},a=localStorage.getItem("token");a&&c(a);export{l as a,p as g,u as s};
