// Updated: 2025-12-19 13:14:43 - feat(socket): add API endpoints
// Updated: 2025-12-19 13:14:42 - refactor(triage): refactor triage UI components
// Updated: 2025-12-19 13:14:38 - refactor(validation): optimize authentication in validation
// Updated: 2025-12-19 13:14:35 - refactor(ui): improve ui error handling
// Updated: 2025-12-19 13:14:21 - style(patient): enhance patient triage system
// Updated: 2025-12-19 13:14:17 - style(auth): optimize error handling
// Updated: 2025-12-19 13:14:06 - feat(patient): fix patient form in patient
// Updated: 2025-12-19 13:14:02 - docs(patient): fix database schema in patient
// Updated: 2025-12-19 12:28:09 - feat: update socket database schema
// Updated: 2025-12-19 12:27:58 - style(socket): improve socket dashboard
// Updated: 2025-12-19 12:27:54 - fix(database): improve database authentication
// Updated: 2025-12-19 12:27:53 - docs: fix patient patient form (fixes #49)
// Updated: 2025-12-19 12:27:48 - test: update api UI components
// Updated: 2025-12-19 12:27:44 - docs: fix ui API endpoints (fixes #19)
// Updated: 2025-12-19 12:27:20 - chore: refactor ui API endpoints
// Updated: 2025-12-19 12:27:17 - docs(auth): refactor auth triage system
// Updated: 2025-12-19 12:27:00 - style(auth): update auth dashboard (fixes #41)
// Updated: 2025-12-19 12:26:59 - test(validation): fix API endpoints in validation (fixes #46)
// Updated: 2025-12-19 12:26:47 - style(validation): add authentication
// Updated: 2025-12-19 12:26:46 - chore(validation): enhance database schema in validation
// Updated: 2025-12-19 12:26:44 - feat(socket): add UI components
// Updated: 2025-12-19 12:26:40 - style(triage): implement API endpoints in triage
// Updated: 2025-12-19 12:26:39 - chore(triage): optimize dashboard in triage
// Updated: 2025-12-19 12:26:29 - refactor: improve patient database schema
// Updated: 2025-12-19 12:26:24 - docs(api): fix error handling
// Updated: 2025-12-19 12:26:10 - perf: add patient triage system
// Updated: 2025-12-19 12:26:08 - test: refactor ui triage system
// Updated: 2025-12-19 12:25:49 - refactor(api): optimize authentication
// Updated: 2025-12-19 12:25:42 - perf(auth): fix auth authentication
// Updated: 2025-12-19 12:25:17 - chore(patient): enhance patient API endpoints
// Updated: 2025-12-19 12:25:03 - chore(validation): refactor validation dashboard (fixes #49)
// Updated: 2025-12-19 12:23:04 - refactor(database): optimize triage system (fixes #33)
// Updated: 2025-12-19 12:22:59 - style(ui): fix ui patient form (fixes #8)
// Updated: 2025-12-19 12:22:55 - chore: enhance socket error handling (fixes #40)
// Updated: 2025-12-19 12:22:54 - perf(triage): refactor triage system (fixes #32)
// Updated: 2025-12-19 12:22:46 - chore(api): optimize api API endpoints (fixes #37)
// Updated: 2025-12-19 12:22:42 - perf(triage): update UI components in triage (fixes #39)
// Updated: 2025-12-19 12:22:36 - perf(ui): update ui dashboard
// Updated: 2025-12-19 12:22:08 - feat: update ui dashboard
// Updated: 2025-12-19 12:22:02 - chore(validation): optimize patient form in validation
// Updated: 2025-12-19 12:21:57 - chore(auth): fix error handling in auth
// Updated: 2025-12-19 12:21:52 - fix: update database error handling
// Updated: 2025-12-19 12:21:42 - docs(validation): improve validation triage system (fixes #41)
// Updated: 2025-12-19 12:21:40 - style(validation): update validation UI components (fixes #31)
// Updated: 2025-12-19 12:21:00 - fix: fix auth UI components
// Updated: 2025-12-19 12:20:52 - docs: update ui API endpoints
// Updated: 2025-12-19 12:20:51 - docs: optimize triage triage system (fixes #3)
// Updated: 2025-12-19 12:20:27 - test(api): optimize api triage system
// Updated: 2025-12-19 12:20:13 - docs(database): optimize triage system
// Updated: 2025-12-19 12:20:06 - fix(ui): fix ui UI components
// Updated: 2025-12-19 12:19:32 - chore(validation): optimize triage system
// Updated: 2025-12-19 12:19:29 - style(patient): add dashboard in patient
// Updated: 2025-12-19 12:19:28 - perf(validation): enhance API endpoints
// Updated: 2025-12-19 12:19:22 - docs(ui): optimize error handling in ui (fixes #30)
// Updated: 2025-12-19 12:19:17 - fix(triage): fix triage authentication (fixes #43)
// Updated: 2025-12-19 12:19:14 - feat: add validation authentication
// Updated: 2025-12-19 12:19:04 - style(database): refactor patient form in database
// Updated: 2025-12-19 12:18:45 - docs(validation): optimize database schema (fixes #19)
// Updated: 2025-12-19 12:18:38 - fix(api): optimize UI components in api
// Updated: 2025-12-19 12:18:22 - test(validation): optimize validation error handling
// Updated: 2025-12-19 12:18:18 - test(auth): fix auth error handling
// Updated: 2025-12-19 12:18:13 - chore: improve ui UI components
// Updated: 2025-12-19 12:18:08 - docs(auth): implement auth authentication
// Updated: 2025-12-19 12:18:01 - fix(socket): improve socket UI components (fixes #28)
// Updated: 2025-12-19 12:17:59 - docs(auth): add database schema
// Updated: 2025-12-19 12:17:54 - fix(api): implement api dashboard
// Updated: 2025-12-19 12:17:48 - docs(patient): add triage system
// Updated: 2025-12-19 12:17:44 - fix: fix api UI components (fixes #38)
// Updated: 2025-12-19 12:07:24 - feat(database): update API endpoints in database
// Updated: 2025-12-19 12:07:11 - fix: enhance socket triage system
// Updated: 2025-12-19 12:07:11 - chore: enhance socket patient form (fixes #47)
// Updated: 2025-12-19 12:07:05 - fix: fix socket authentication
// Updated: 2025-12-19 12:06:57 - chore(validation): add patient form
// Updated: 2025-12-19 12:06:53 - style(ui): add patient form in ui
// Updated: 2025-12-19 12:06:44 - chore(socket): enhance API endpoints in socket
// Updated: 2025-12-19 12:06:36 - refactor(triage): add triage database schema
// Updated: 2025-12-19 12:06:28 - style(api): optimize api patient form (fixes #36)
// Updated: 2025-12-19 12:06:21 - fix: optimize api error handling
// Updated: 2025-12-19 12:06:20 - chore: update ui database schema
// Updated: 2025-12-19 12:06:16 - feat: fix patient UI components
// Updated: 2025-12-19 12:05:53 - style(ui): fix dashboard
// Updated: 2025-12-19 12:05:43 - feat: implement validation patient form
// Updated: 2025-12-19 12:05:33 - refactor: add auth error handling
// Updated: 2025-12-19 12:05:29 - style(validation): add validation UI components
// Updated: 2025-12-19 12:05:22 - chore(api): fix api API endpoints (fixes #41)
// Updated: 2025-12-19 12:05:18 - style(ui): fix triage system (fixes #36)
// Updated: 2025-12-19 12:04:57 - fix(database): fix patient form in database
// Updated: 2025-12-19 12:04:46 - docs(auth): refactor triage system in auth (fixes #15)
// Updated: 2025-12-19 12:04:37 - chore: fix api error handling
// Updated: 2025-12-19 12:04:19 - refactor(api): update API endpoints
// Updated: 2025-12-19 12:03:56 - test(patient): implement dashboard in patient
// Updated: 2025-12-19 12:03:52 - feat(triage): refactor triage patient form (fixes #32)
// Updated: 2025-12-19 12:03:25 - feat(database): improve API endpoints in database
import mongoose from 'mongoose';

const patientSchema = new mongoose.Schema(
  {
    user: {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'User',
      required: [true, 'User reference is required'],
    },
    symptoms: {
      type: [Object],
      required: [true, 'Symptoms are required'],
      validate: {
        validator: function (symptoms) {
          return symptoms.length > 0;
        },
        message: 'At least one symptom must be provided',
      },
    },
    diagnosis: {
      type: String,
      required: [true, 'Diagnosis is required'],
      trim: true,
    },
    date: {
      type: Date,
      default: Date.now,
    },
  },
  {
    timestamps: true,
  }
);

// Index for better query performance
patientSchema.index({ user: 1, date: -1 });

const Patient = mongoose.model('Patient', patientSchema);

export default Patient;




























































































